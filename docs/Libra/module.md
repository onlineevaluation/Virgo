# 模块划分

| 模块名称 | 模块介绍                         |
| -------- | -------------------------------- |
| 用户中心 | 为用户提供授权，信息更改等模块   |
| 试卷中心 | 学生获取试卷，提交试卷，测评试卷 |

## 用户中心

### 登录授权模块

学生(教师)通过学号(工号)和密码进行登录，登录成功后会返回一个 JWT 该 token 里包含了用户的一些详细信息。

用户密码采用 `BCryptPasswordEncoder` 进行加密。

JWT 可以为我们以后的系统扩展和其他系统对接提供方便。

默认 token 过期时间为 7 天，采用 `HS256` 进行加密

### 信息更改模块

todo()

## 试卷中心

### 获取情况

| 接口                  | 请求方式 | 说明               |
| --------------------- | -------- | ------------------ |
| /page/exams/{classId} | get      | 获取该班级考试情况 |

| 参数    | 类型 | 可选 | 说明             |
| ------- | ---- | ---- | ---------------- |
| classId | Long | 否   | 登录用户考试班级 |

通过该接口可以获取考试情况，不同的考试，其中可能会有考试开始，考试结束，和正在进行的考试等情况。

### 获取试题

| 接口                  | 请求方式 | 说明               |
| --------------------- | -------- | ------------------ |
| /page/exam/ | get      | 获取试卷考试试题 |

| 参数    | 类型 | 可选 | 说明         |
| ------- | ---- | ---- | ------------ |
| pageId  | Long | 否   | 考试试卷id   |
| classId | Long | 否   | 该学生班级id |

通过该接口可以获取考试试题，但是调用该接口的时候会先进行试卷是否已经提交过的判断，如果试卷已经提交过，则该接口会返回一个试卷已经提交的错误信息。

### 提交试卷

| 接口                  | 请求方式 | 说明               |
| --------------------- | -------- | ------------------ |
| /page/addAns | post     | 提交试卷答案接口 |

| 参数    | 类型 | 可选 | 说明         |
| ------- | ---- | ---- | ------------ |
| json  | String | 否   | 试卷答案   |

提交试卷答案如下格式

```json
{
       studentId: 1,
       pageId: 1,
       answer: [{
           id: '1',
           ans: 'A'
       },
       {
           id: '37',
           ans: '&amp;nbsp;'
       },
       {
           id: '1024',
           ans: "（1） Grinderxxxx。xxxxxx
      ]
}
```

### 获取学生所有考试分数

| 接口                  | 请求方式 | 说明               |
| --------------------- | -------- | ------------------ |
| /page/scores/{studentId} | get | 获取单个学生成绩 |

| 参数    | 类型 | 可选 | 说明         |
| ------- | ---- | ---- | ------------ |
| studentId | long | 否   | 学生id |

通过该接口可以获取单个学生所有考试成绩，包括分数，班级排名，学校排名等信息

### 单项学生成绩

| 接口                        | 请求方式 | 说明                     |
| --------------------------- | -------- | ------------------------ |
| /Score/{pageId}/{studentId} | get      | 获取单个学生单项考试成绩 |

| 参数      | 类型 | 可选 | 说明   |
| --------- | ---- | ---- | ------ |
| pageId    | long | 否   | 试卷id |
| studentId | long | 否   | 学生id |

获取试卷详细，包括 分数 试卷标题，学科，试题等

### 校验试卷

| 接口        | 请求方式 | 说明                 |
| ----------- | -------- | -------------------- |
| /verifyPage | post     | 校验试卷是否已经提交 |

| 参数             | 类型 | 可选 | 说明               |
| ---------------- | ---- | ---- | ------------------ |
| verifyPageParams | 对象 | 否   | 对象类型下面有参数 |

该对象里包含两个参数 studentId 和 pageId 都是 long 类型

## 班级中心

::: warning 注意

教师id 和 教师工号(jobNumber)并非同一属性  

:::

### 教师所教授班级

| 接口                 | 请求方式 | 说明                   |
| -------------------- | -------- | ---------------------- |
| /teacher/{teacherId} | get      | 通过教师id获取班级列表 |

| 参数      | 类型 | 可选 | 说明   |
| --------- | ---- | ---- | ------ |
| teacherId | long | 否   | 教师id |

获取教师所教授班级信息

### 成绩分析

| 接口                           | 请求方式 | 说明 |
| ------------------------------ | -------- | ---- |
| /classScore/{classId}/{pageId} | get      | ———— |

| 参数    | 类型 | 可选 | 说明   |
| ------- | ---- | ---- | ------ |
| classId | long | 否   | 班级id |
| pageId  | long | 否   | 试卷id |

获取指定试卷的各个阶段的分数人数

### 试卷前 10 名

